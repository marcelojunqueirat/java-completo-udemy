var TrackWidget=function(){"use strict";const e=1,t=2,n=3,r=4,o=5,s=6,l=7,i=8,a=9,d=10,u=11,c=12,p=3,m=2,g=3,y=1,f=2,v=3,b="detractor",h="passive",w="promoter";let C=null,_=null,x=null;const k=["#b72124","#d62027","#ef5222","#f46f21","#faa822","#ffca26","#ecdb11","#dedd37","#c5d92d","#afd136","#65b54d"],E=["#d62027","#ef5222","#f46f21","#faa822","#ffca26","#ecdb11","#dedd37","#c5d92d","#afd136","#65b54d"],$=["#a80b1e","#f2243d","#f5a623","#fdc33e","#c7d153","#2acf65","#15aa4a"],A=["#a80b1e","#f2243d","#f46f21","#f5a623","#2acf65","#15aa4a"],L=["#a80b1e","#f2243d","#f5a623","#2acf65","#15aa4a"],B={likert_csat:[{value:1,label:"extremely_unsatistied"},{value:2,label:"unsatisfied"},{value:3,label:"neutral"},{value:4,label:"satisfied"},{value:5,label:"extremely_satistied"}],likert_5:[{value:1,label:"strongly_disagree"},{value:2,label:"disagree"},{value:3,label:"neutral"},{value:4,label:"agree"},{value:5,label:"strongly_agree"}],likert_7:[{value:1,label:"strongly_disagree"},{value:2,label:"disagree"},{value:3,label:"somewhat_disagree"},{value:4,label:"neutral"},{value:5,label:"somewhat_agree"},{value:6,label:"agree"},{value:7,label:"strongly_agree"}]},T={5:[{value:1,label:"very_hard"},{value:2,label:"hard"},{value:3,label:"neutral"},{value:4,label:"easy"},{value:5,label:"very_easy"}],7:[{value:1,label:"extremely_hard"},{value:2,label:"very_hard"},{value:3,label:"hard"},{value:4,label:"neutral"},{value:5,label:"easy"},{value:6,label:"very_easy"},{value:7,label:"extremely_easy"}]};const M={0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",10:"K",11:"L",12:"M",13:"N",14:"O",15:"P",16:"Q",17:"R",18:"S",19:"T",20:"U",21:"V",22:"X",23:"Z"};function N(t,n,r,o,s,l,i,a){C=l,_=i,x=a;let d=[];if(0===o){for(let e=t;e<=n;e++)d.push(e);r&&(d=H(d))}else d=2===o?function(e){return function(e){const t=JSON.parse(JSON.stringify(e));return t.map((e=>{e.label={en_US:C.survey.textual[e.label]||e.label,pt_BR:_.survey.textual[e.label]||e.label,es_ES:x.survey.textual[e.label]||e.label}})),t}([...T[e]])}(n):function(t,n){let r=[];r=t===e||t===c?7===n?[...B.likert_7]:[...B.likert_5]:[...B.likert_csat];return function(e){const t=JSON.parse(JSON.stringify(e));return t.map((e=>{e.label={en_US:C.survey.likert[e.label]||e.label,pt_BR:_.survey.likert[e.label]||e.label,es_ES:x.survey.likert[e.label]||e.label}})),t}(r)}(s,n);return d}function S(e,t,n){let r=[];return r=0===e&&10===t?k:1===e&&10===t?E:1===e&&7===t?$:0===e&&5===t?A:L,n&&(r=H(r)),r}function H(e){return e.slice().reverse()}function I(r,l,d,u){switch(r){case e:case c:case t:case n:case i:return 0===d&&10===u?function(e){return e>8?w:e>6?h:b}(l):1===d&&10===u?function(e){return e>6?w:e>4?h:b}(l):1===d&&7===u?function(e){return e>4?w:e>3?h:b}(l):0===d&&5===u?function(e){return e>3?w:e>1?h:b}(l):function(e){return e>3?w:e>2?h:b}(l);case o:case s:return function(e){return e>8?w:e>6?h:b}(l);case a:return l>0?w:b;default:return h}}const q=(e,t,n)=>` <svg \n    rel="${e}"\n  width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path  rel="${e}"\nfill-rule="evenodd" stroke-width="3" clip-rule="evenodd" d="M48.8204 18.063L32.6252 16.4878L26.1921 0.822691C25.7416 -0.27423 24.2585 -0.27423 23.8082 0.822691L17.375 16.4877L1.17975 18.063C0.0456342 18.1733 -0.412578 19.6523 0.443092 20.4406L12.6623 31.6973L9.08625 48.3358C8.83587 49.5009 10.0357 50.415 11.0149 49.8053L24.9999 41.0973L38.9849 49.8053C39.9642 50.415 41.164 49.5009 40.9136 48.3358L37.3375 31.6973L49.5568 20.4406C50.4127 19.6522 49.9543 18.1733 48.8204 18.063Z" fill="${n}" stroke="${t}"/>\n</svg>`,Z={survey:{likert:{strongly_disagree:"Strongly Disagree",disagree:"Disagree",somewhat_disagree:"Somewhat Disagree",neutral:"Neutral",somewhat_agree:"Somewhat Agree",agree:"Agree",strongly_agree:"Strongly Agree",extremely_unsatistied:"Extremely Unsatisfied",unsatisfied:"Unsatisfied",satisfied:"Satisfied",extremely_satistied:"Extremely Satisfied"},textual:{extremely_hard:"Extremely hard",very_hard:"Very hard",hard:"Hard",neutral:"Neutral",easy:"Easy",very_easy:"Very easy",extremely_easy:"Extremely easy"},new:{placeholder_comment:"Leave your opinion here. ",other:"Other"},buttons:{next:"Next",previous:"Previous",send:"Send"},messages:{obligatory:"For the survey to be considered valid, you must answer the mandatory questions",answer_one_question:"You need to answer at least one question"}}},V={survey:{likert:{strongly_disagree:"Discordo Totalmente",disagree:"Discordo",somewhat_disagree:"Discordo Parcialmente",neutral:"Neutro",somewhat_agree:"Concordo Parcialmente",agree:"Concordo",strongly_agree:"Concordo Totalmente",extremely_unsatistied:"Extremamente Insatisfeito",unsatisfied:"Insatisfeito",satisfied:"Satisfeito",extremely_satistied:"Extremamente Satisfeito"},textual:{extremely_hard:"Extremamente dif&#237;cil",very_hard:"Muito dif&#237;cil",hard:"Dif&#237;cil",neutral:"Neutro",easy:"F&#225;cil",very_easy:"Muito f&#225;cil",extremely_easy:"Extremamente f&#225;cil"},new:{placeholder_comment:"Deixe seu coment&#225;rio aqui ",other:"Outro"},buttons:{next:"Pr&#243;ximo",previous:"Anterior",send:"Enviar"},messages:{obligatory:"Para que a pesquisa seja considerada v&#225;lida, voc&#234; precisa responder as quest&#245;es obrigat&#243;rias",answer_one_question:"Voc&#234; precisa responder pelo menos uma pergunta"}}},D={survey:{likert:{strongly_disagree:"Totalmente en Desacuerdo",disagree:"En Desacuerdo",somewhat_disagree:"Algo en Desacuerdo",neutral:"Neutral",somewhat_agree:"Algo de Acuerdo",agree:"De Acuerdo",strongly_agree:"Totalmente de Acuerdo",extremely_unsatistied:"Extremamente insatisfecho",unsatisfied:"Insatisfecho",satisfied:"Satisfecho",extremely_satistied:"Extremamente satisfecho"},textual:{extremely_hard:"Extremamente difícil",very_hard:"Muy difícil",hard:"Difícil",neutral:"Neutral",easy:"Fácil",very_easy:"Muy Fácil",extremely_easy:"Extremamente Fácil"},new:{placeholder_comment:"Deje su opinión aquí. ",other:"Otro"},buttons:{next:"Siguiente",previous:"Anterior",send:"Enviar"},messages:{obligatory:"Para que la encuesta se considere válida, debe responder las preguntas obligatorias",answer_one_question:"Debes responder al menos una pregunta"}}},j="\ndisplay: flex;\ntext-align: center;\nwidth: 100%;\njustify-content: center;\nflex-wrap: wrap;\n",z=(e,t,n,r,o)=>{const s=document.createElement("div"),l=document.createElement("div");l.setAttribute("style",j);const i=N(e.min_scale,e.max_scale,e.inverted_scale,e.scale_type,e.type,Z,V,D);if(l.innerHTML=R(i,S(e.min_scale,e.max_scale),e,t?.answer?.response,r,o,n),s.append(l),e.items){const l='<div style="margin-top:15px">'+ee(e,n,t,r,o)+"</div>";s.innerHTML=s.innerHTML+l}return s},R=(e,t,n,r,o,s,l)=>e.map(((e,i)=>{const a=document.createElement("div"),d=(u=n.button_design,c=n.scale_type,1===u||2===u||1===c?"1.5px":"100%");var u,c;const p=e.value?e.value:e,m=0===n.scale_type?"":"75px",g=0===n.scale_type?"13px":"10px",{fontColor:y,backgroundColor:f}=O(i,t,n.color_pattern,n.custom_color,n.button_design,o,s),v=document.createElement("div");return v.classList.add("options"),v.classList.add("buttons-survey"),null!==r&&Number(r)===p&&v.classList.add("selected"),v.setAttribute("rel",p),v.setAttribute("data-uuid",n.item_uuid),v.setAttribute("style",`\ncolor: #21345f;\nfont-weight: bold;\ncursor: pointer;\nmargin-right: 5px;\nmargin-top: 5px;\nmin-width:10px;\nborder: 1px solid;\nheight: 34px;\nmin-width: 34px;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\n\n        border-radius: ${d}; \n        background:${f};\n        border-color:${y};\n        color: ${y};\n        width:${m};\n        font-size:${g};\n        ${null!==r&&Number(r)===p?((e,t)=>`\nbox-shadow: 0px 4px 3px #ccc;\nbackground: ${e};\ncolor: ${t};\nborder-color: ${t}\n`)(y,f):""} `),v.innerHTML=`${e.label?e.label[l]:e}`,a.append(v),a.innerHTML})).join(""),O=(e,t,n,r,o,s,l)=>{const i=function(e,t,n,r){return 1===t?n[e]:2===t?"#aaabb3":r}(e,n,t,r),a=function(e){return!(1!==e&&3!==e)}(o);let d=a?i:"#fff",u=a?"#fff":i;return s&&(u=s,d=l),{fontColor:u,backgroundColor:d}},J=(e,t,n,r,o)=>{const{background:s,backgroundHover:l,borderColor:i,borderColorHover:a}=F(r,o);return n.map(((n,r)=>{const o=null!==t&&Number(t)===r+1;return`<div \n        class="${o?"options selected":"options"}"\n        style="\nmargin-right: 10px;\ncursor:pointer;\nwidth: 41px;\nopacity: 0.7;\ntransition: transform 0.2s ease-in, opacity 0.2s ease-in;\n ${o?"\nwidth: 46px;\nopacity: 1;\n":""}"  \n    rel = "${r+1}"\n    data-uuid = "${e}">\n    ${((e,t,n)=>1===e?`<svg ref="${e}" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path rel="${e}" d="M19.9127 38.8254C30.3579 38.8254 38.8254 30.3579 38.8254 19.9127C38.8254 9.46749 30.3579 0.999978 19.9127 0.999978C9.4675 0.999978 0.999978 9.46749 0.999978 19.9127C0.999979 30.3579 9.4675 38.8254 19.9127 38.8254Z" stroke="${t}" fill="${n}" stroke-width="2"/>\n    <path rel="${e}" d="M10.1677 20.7151C9.77722 20.7151 9.38668 20.5068 9.1784 20.1424C8.86598 19.5956 9.04822 18.8927 9.59497 18.6063L12.1204 17.1743L9.56893 15.7163C9.02219 15.4039 8.83995 14.727 9.15237 14.1803C9.46479 13.6335 10.1417 13.4513 10.6885 13.7637L14.9843 16.211C15.3488 16.4193 15.5571 16.7838 15.5571 17.2004C15.5571 17.6169 15.3488 17.9814 14.9843 18.1897L10.7145 20.611C10.5322 20.6631 10.35 20.7151 10.1677 20.7151Z"  fill="${t}"/>\n    <path rel="${e}" d="M29.2516 20.6878C29.0694 20.6878 28.8611 20.6357 28.6789 20.5316L24.4872 18.0843C24.1487 17.876 23.9404 17.5115 23.9404 17.1209C23.9404 16.7304 24.1487 16.3399 24.4872 16.1576L28.6528 13.7364C29.1996 13.4239 29.8765 13.6062 30.1889 14.1529C30.5013 14.6997 30.3191 15.3766 29.7723 15.689L27.2729 17.147L29.7984 18.605C30.3451 18.9174 30.5274 19.5943 30.2149 20.141C30.0067 20.5055 29.6161 20.6878 29.2516 20.6878Z"  fill="${t}"/>\n    <path rel="${e}" d="M13.2662 29.3832C13.1881 29.3832 13.11 29.3832 13.0058 29.3571C12.5111 29.227 12.2508 28.7063 12.381 28.2376C12.9277 26.3631 15.1407 22.8223 19.6969 22.8223C24.2791 22.8223 26.4661 26.337 26.9607 28.2116C27.0909 28.7063 26.8045 29.2009 26.3359 29.3311C25.8412 29.4613 25.3465 29.1749 25.2164 28.7063C25.1643 28.55 24.0188 24.6708 19.6969 24.6708C15.375 24.6708 14.1774 28.6021 14.1253 28.7583C14.0212 29.1228 13.6567 29.3832 13.2662 29.3832Z"  fill="${t}"/>\n\n</svg>`:2===e?`<svg rel="${e}" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path rel="${e}" d="M19.9123 38.8246C30.358 38.8246 38.8246 30.358 38.8246 19.9123C38.8246 9.46659 30.358 1 19.9123 1C9.46659 1 1 9.46659 1 19.9123C1 30.358 9.46659 38.8246 19.9123 38.8246Z" stroke="${t}" fill="${n}" stroke-width="2"/>\n    <path rel="${e}" d="M11.7373 20.0422C11.0083 20.0422 10.4355 19.4434 10.4355 18.7404V14.2363C10.4355 13.5073 11.0344 12.9346 11.7373 12.9346C12.4663 12.9346 13.0391 13.5334 13.0391 14.2363V18.7404C13.0391 19.4694 12.4663 20.0422 11.7373 20.0422Z"  fill="${t}"/>\n    <path rel="${e}" d="M28.0615 20.0422C27.3325 20.0422 26.7598 19.4434 26.7598 18.7404V14.2363C26.7598 13.5073 27.3586 12.9346 28.0615 12.9346C28.7905 12.9346 29.3633 13.5334 29.3633 14.2363V18.7404C29.3633 19.4694 28.7905 20.0422 28.0615 20.0422Z"  fill="${t}"/>\n    <path rel="${e}" d="M13.482 27.9047C13.4039 27.9047 13.3258 27.9047 13.2216 27.8786C12.727 27.7484 12.4666 27.2277 12.5968 26.7591C13.1435 24.8846 15.3565 21.3438 19.9127 21.3438C24.4949 21.3438 26.6819 24.8585 27.1766 26.7331C27.3067 27.2277 27.0203 27.7224 26.5517 27.8526C26.057 27.9828 25.5624 27.6964 25.4322 27.2277C25.3801 27.0715 24.2346 23.1923 19.9127 23.1923C15.5908 23.1923 14.3932 27.1236 14.3411 27.2798C14.237 27.6443 13.8725 27.9047 13.482 27.9047Z"  fill="${t}"/>\n    </svg>`:3===e?`<svg rel="${e}" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path rel="${e}" d="M19.9123 38.8246C30.358 38.8246 38.8246 30.358 38.8246 19.9123C38.8246 9.46659 30.358 1 19.9123 1C9.4666 1 1 9.46659 1 19.9123C1 30.358 9.4666 38.8246 19.9123 38.8246Z" stroke="${t}" fill="${n}" stroke-width="2"/>\n    <path rel="${e}" d="M11.7373 21.0061C11.0083 21.0061 10.4355 20.4073 10.4355 19.7043V16.5801C10.4355 15.8511 11.0344 15.2783 11.7373 15.2783C12.4663 15.2783 13.0391 15.8771 13.0391 16.5801V19.7043C13.0391 20.4333 12.4663 21.0061 11.7373 21.0061Z" fill="${t}"/>\n    <path rel="${e}" d="M28.0625 21.0061C27.3335 21.0061 26.7607 20.4073 26.7607 19.7043V16.5801C26.7607 15.8511 27.3596 15.2783 28.0625 15.2783C28.7915 15.2783 29.3643 15.8771 29.3643 16.5801V19.7043C29.3643 20.4333 28.7655 21.0061 28.0625 21.0061Z" fill="${t}"/>\n    <path rel="${e}" d="M30.1709 25.8219H9.65508C9.21248 25.8219 8.87402 25.4834 8.87402 25.0408C8.87402 24.5982 9.21248 24.2598 9.65508 24.2598H30.1709C30.6135 24.2598 30.952 24.5982 30.952 25.0408C30.952 25.4834 30.5875 25.8219 30.1709 25.8219Z" fill="${t}"/>\n    </svg>`:4===e?`<svg rel="${e}" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path rel="${e}" d="M20.332 39.2442C30.7769 39.2442 39.2442 30.7769 39.2442 20.3321C39.2442 9.88718 30.7769 1.41993 20.332 1.41993C9.88717 1.41993 1.41993 9.88718 1.41993 20.3321C1.41993 30.7769 9.88717 39.2442 20.332 39.2442Z" stroke="${t}" fill="${n}" stroke-width="2"/>\n    <path rel="${e}" d="M12.1641 20.594C11.4351 20.594 10.8623 19.9952 10.8623 19.2922V16.168C10.8623 15.439 11.4611 14.8662 12.1641 14.8662C12.8931 14.8662 13.4658 15.465 13.4658 16.168V19.2922C13.4658 20.0212 12.8931 20.594 12.1641 20.594Z" fill="${t}"/>\n    <path rel="${e}" d="M28.4883 20.594C27.7593 20.594 27.1865 19.9952 27.1865 19.2922V16.168C27.1865 15.439 27.7853 14.8662 28.4883 14.8662C29.2173 14.8662 29.7901 15.465 29.7901 16.168V19.2922C29.7901 20.0212 29.2173 20.594 28.4883 20.594Z" fill="${t}"/>\n    <path rel="${e}" d="M20.3656 30.7213C15.7834 30.7213 13.5965 27.2065 13.1018 25.332C12.9716 24.8373 13.258 24.3426 13.7266 24.2124C14.2213 24.0823 14.716 24.3687 14.8461 24.8373C14.8982 24.9935 16.0438 28.8728 20.3656 28.8728C24.6875 28.8728 25.8851 24.9414 25.9372 24.7852C26.0674 24.3166 26.5881 24.0302 27.0567 24.1604C27.5514 24.2906 27.8117 24.8113 27.6816 25.2799C27.1609 27.1805 24.9479 30.7213 20.3656 30.7213Z" fill="${t}"/>\n    </svg>`:5===e?`<svg rel="${e}" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path rel="${e}" d="M19.3171 38.8318L19.3196 38.8319C29.7365 39.1342 38.4773 30.9443 38.8072 20.4983C39.1371 10.051 30.9173 1.33802 20.4998 1.00818L20.4971 1.0081C10.0534 0.70578 1.33946 8.89656 1.00961 19.3417C0.679731 29.7879 8.87244 38.502 19.3171 38.8318Z" stroke="${t}" fill="${n}" stroke-width="2"/>\n    <path rel="${e}" d="M19.8439 25.8034C13.1268 25.8034 11.2263 23.1218 11.044 22.8094C10.7837 22.3928 10.8878 21.82 11.3304 21.5597C11.747 21.2993 12.3197 21.4035 12.5801 21.8461C12.5801 21.8461 14.1422 23.981 19.8439 23.981C25.5978 23.981 27.1859 21.82 27.1859 21.82C27.4723 21.4035 28.019 21.2733 28.4356 21.5597C28.8522 21.8461 28.9823 22.3928 28.696 22.8094C28.5137 23.1218 26.5611 25.8034 19.8439 25.8034Z" fill="${t}"/>\n    <path rel="${e}" d="M26.0403 12.2918C26.9515 11.9273 27.7846 12.3179 28.3314 13.0469C28.9041 12.3179 29.7633 11.9794 30.6485 12.3699C31.768 12.8646 31.9763 14.0362 31.5077 15.1557C31.1432 15.9628 29.6071 17.4729 28.8 18.2539C28.5136 18.5403 28.045 18.5143 27.7586 18.2279C26.9515 17.4208 25.4675 15.8847 25.1551 15.0516C24.6344 13.906 24.8947 12.7344 26.0403 12.2918Z" fill="${t}"/>\n    <path rel="${e}" d="M9.19504 12.2918C10.1063 11.9273 10.9394 12.3179 11.4862 13.0469C12.0589 12.3179 12.9181 11.9794 13.8033 12.3699C14.9228 12.8646 15.1311 14.0362 14.6625 15.1557C14.298 15.9628 12.7619 17.4729 11.9548 18.2539C11.6684 18.5403 11.1998 18.5143 10.9134 18.2279C10.1063 17.4208 8.62226 15.8847 8.30984 15.0516C7.81517 13.906 8.07553 12.7344 9.19504 12.2918Z" fill="${t}"/>\n    </svg>`:"")(r+1,o?a:i,o?l:s)}\n        </div > `})).join("")},F=(e,t)=>({background:t||"#fff",backgroundHover:e||"#ffd22a",borderColor:e||"#656565",borderColorHover:t||"#000"}),K=(e,t,n)=>{const r=(e=>"pt_BR"===e?V:"es_ES"===e?D:Z)(n),o=document.createElement("div"),s=`\n  <textarea class="comment" style = "\nborder: none;\nbackground: none;\ncolor: rgba(0, 0, 0, 0.87);\noutline: 0;\npadding: 6px 0;\nborder-bottom: 1px solid rgba(0, 0, 0, 0.24);\nfont-size: 15px;\nwidth: 100%;\nmargin-top: 10px;\n; color: ${t}; border-color: ${t}" type = "text" placeholder = "${r.survey.new.placeholder_comment}" >${e||""}</textarea >\n   \n  `;return o.innerHTML=s,o},U=(e,t)=>{let n="#fff",r="#ffd21f",o="#ffd21f",s="#ffd21f";return e&&(o=e,n=t,r=e,s=t),{borderColor:o,borderColorHover:s,backgroundColor:n,backgroundColorHover:r}},Y=(e,t,n,r,o,s,l)=>t.map(((t,i)=>`<div \n        rel = "${i+1}"\n        data-uuid = "${e}"\n        class="${null!==n&&Number(n)>=i+1?"options ratings selected":"options ratings"}"\n        style="\ntransition: transform .2s ease-in,opacity .2s ease-in;\nmargin-left: 2px;\npadding:5px;\nwidth: 40px;\nheight: 40px;\ncursor:pointer;\n-webkit-filter: drop-shadow(2px 2px 1px #ccc);\nfilter:         drop-shadow(2px 2px 1px #ccc); \n\n " >\n        ${null!==n&&Number(n)>=i+1?q(i+1,s,l):q(i+1,r,o)}\n        </div > `)).join(""),P=(e,t,n,r,o)=>e.options.map(((s,l)=>{let i=null;null!=n&&(i=n.includes(s));const{borderColor:a,background:d,fontColor:u}=W(r,o),c=i?d:r||" #333759";return`<div \n        class="options ${i?" selected ":""}"\n        style="${Q}\n        border-color:${i?d:a};\n        color: ${i?d:u};\n        background:${i?a:d};"\n\n        rel="${l}"\n        data-uuid="${e.item_uuid}">\n        <div class="letter" style="float:left;width:10%;color: ${c};font-weight: 600;"> ${M[l]} </div>\n        <div class="value"> ${s[t]} </div>\n        </div>`})).join(""),Q="\nmin-width: 200px;\nborder: 1px solid #979797;\nborder-radius: 50px;\ncolor: #7f8fa4;\nfont-size: 16px;\npadding: 2px 10px;\nmargin-bottom: 10px;\nmargin-right: 5px;\ncursor: pointer;\n",W=(e,t)=>{const n=e||"#979797";return{borderColor:n,background:t||"#FFFFFF",fontColor:n,useWidgetColor:e}},X=(e,t,n,r,o=70)=>{const s=document.createElement("div"),{backgroundColor:l,borderColor:i,colorDetractorHover:a,colorPromoterHover:d}=G(n,r),u=`\n  <div style="${j}">\n    <div class="options ${null!==t&&0===Number(t)?" selected":""}"\n    style="cursor: pointer;margin-right: 15px;">\n     <div rel="0" data-uuid="${e.item_uuid}">  \n        ${((e,t,n,r,o,s,l)=>`<svg\n    rel="${e}"\n    data-uuid="${t}"\n  width="${n}" height="${n}" viewBox="0 0 70 70" fill="none" stroke="none" xmlns="http://www.w3.org/2000/svg">\n<path  rel="${e}"  data-uuid="${t}" d="M69.2223 35C69.2223 53.916 53.894 69.25 34.9862 69.25C16.0783 69.25 0.75 53.916 0.75 35C0.75 16.084 16.0783 0.75 34.9862 0.75C53.894 0.75 69.2223 16.084 69.2223 35Z" stroke="${l?s:r}" fill="${l?s:o}" stroke-width="1.5"/>\n<path  rel="${e}"  data-uuid="${t}" d="M42.974 22.5181H46.8663C47.6913 22.5035 48.493 22.7925 49.1191 23.3301C49.7452 23.8678 50.1522 24.6167 50.2628 25.4348V35.6431C50.1522 36.4611 49.7452 37.2101 49.1191 37.7477C48.493 38.2854 47.6913 38.5744 46.8663 38.5598H42.974M32.7697 41.4764V47.3098C32.7697 48.4701 33.2305 49.5829 34.0506 50.4034C34.8708 51.2238 35.9832 51.6848 37.143 51.6848L42.974 38.5598V22.5181H26.5305C25.8274 22.5102 25.1451 22.7567 24.6094 23.2123C24.0736 23.6678 23.7205 24.3018 23.615 24.9973L21.6033 38.1223C21.5399 38.5403 21.5681 38.9671 21.6859 39.3732C21.8038 39.7792 22.0084 40.1548 22.2858 40.4738C22.5631 40.7929 22.9064 41.0478 23.292 41.2209C23.6776 41.394 24.0962 41.4812 24.5188 41.4764H32.7697Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke="${l?s:r}" fill="${o}"/>\n</svg>`)(0,e.item_uuid,o,i,l,a,null!==t&&0===Number(t))}\n      </div>\n    </div>\n    <div class="options ${null!==t&&1===Number(t)?" selected":""}"\n    style="cursor: pointer;">\n     <div rel="1" data-uuid="${e.item_uuid}">\n        ${((e,t,n,r,o,s,l)=>`<svg \n    rel="${e}"\n    data-uuid="${t}"\n  width="${n}" height="${n}" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path  rel="${e}"  data-uuid="${t}" d="M69.2497 35C69.2497 53.916 53.9214 69.25 35.0135 69.25C16.1057 69.25 0.777344 53.916 0.777344 35C0.777344 16.084 16.1057 0.75 35.0135 0.75C53.9214 0.75 69.2497 16.084 69.2497 35Z" stroke="${l?s:r}" fill="${l?s:o}"  stroke-width="1.5"/>\n<path  rel="${e}" data-uuid="${t}" d="M28.404 48.8854H24.0307C23.2575 48.8854 22.5159 48.5781 21.9692 48.0311C21.4224 47.4842 21.1152 46.7423 21.1152 45.9687V35.7604C21.1152 34.9869 21.4224 34.245 21.9692 33.698C22.5159 33.151 23.2575 32.8437 24.0307 32.8437H28.404M38.6083 29.9271V24.0937C38.6083 22.9334 38.1476 21.8206 37.3274 21.0002C36.5073 20.1797 35.3949 19.7188 34.235 19.7188L28.404 32.8437V48.8854H44.8475C45.5506 48.8934 46.2329 48.6468 46.7687 48.1913C47.3045 47.7357 47.6576 47.1017 47.763 46.4062L49.7747 33.2812C49.8382 32.8632 49.81 32.4364 49.6921 32.0304C49.5743 31.6243 49.3696 31.2488 49.0923 30.9297C48.815 30.6107 48.4716 30.3557 48.086 30.1826C47.7004 30.0095 47.2818 29.9223 46.8592 29.9271H38.6083Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke="${l?s:r}" fill="${o}"/>\n</svg>`)(1,e.item_uuid,o,i,l,d,null!==t&&1===Number(t))}\n      </div>\n    </div>\n  </div>  \n  `;return s.innerHTML=u,s},G=(e,t)=>{let n="#fff",r="#656565";return e&&(r=e,n=t),{backgroundColor:n,borderColor:r,colorDetractorHover:"#ea575f",colorPromoterHover:"#1bb934"}},ee=(e,t,n,r,o,s)=>null==n?"":e.items.map((e=>{if(e.type===d){const s=te(e,t,r);let l="";return e.items&&(l=ee(e,t,n,r,o,!0)),s+l}if(e.type===a)return ne(e,t,n,r,o,s)})).join(""),te=(e,t,n)=>{let r="#354052";return n&&(r=n),`\n    <div style="font-weight: 600;font-size: 16px;line-height: 20px;margin-top: 10px;; color: ${r}">${e.question[t]}</div>\n  `},ne=(e,t,n,r,o,s)=>{if(!re(n?.answer?.response,e))return;let l="#354052";r&&(l=r);const i=document.createElement("div"),a=document.createElement("div");a.style.display="flex",a.style.justifyContent="space-between",a.style.marginTop="10px",a.innerHTML=`<div style="font-size: 16px;line-height: 20px;display: flex; align-items: center;max-width:210px;;padding-left: ${s?"8px":"0"}; font-weight: ${s?"normal":"600;"}; color: ${l};">${e.question[t]}</div>`;let d=null;if(n.items){const t=n.items.find((t=>t.uuid===e.item_uuid));t&&(d=t?.answer?.response,Array.isArray(d)&&(d=null))}return a.append(X(e,d,r,o,35)),i.append(a),i.innerHTML},re=(e,t)=>!!(e<=6&&t.detractor_enabled)||(!(7!==e&&8!==e||!t.neutral_enabled)||!!(e>8&&t.promoter_enabled)),oe=(e,t,n,r,o,s)=>{if(!e.comments_enabled||null==n)return"";const l=document.createElement("div"),i=le(e.comment_question[t],r,s,t);l.innerHTML=i;const a=o||"#486581";return l.style.color=a,l},se=(e,t,n,r,o,s)=>{if(!e.comments_enabled||null==n)return"";let l="";l=Number(n)>=9?le(e.promoter_comment_question[t],r,s,t):7===Number(n)||8===Number(n)?le(e.neutral_comment_question[t],r,s,t):le(e.detractor_comment_question[t],r,s,t);const i=document.createElement("div");i.innerHTML=l;const a=o||"#486581";return i.style.color=a,i},le=(e,t,n,r)=>(void 0===t&&(t=""),`\n    <div style="\nfont-weight: 500;\nfont-size: 14px;\nmargin-top: 20px;\n;">\n      ${e}\n      <br/>\n      <textarea class="comment" style="\nborder: none;\nbackground: none;\ncolor: #486581;\noutline: 0;\npadding: 0;\nborder: 1px solid #829ab1;\nwidth:100%;\nmargin-top:8px;\nfont-size: 12px;\nfont-family: sans-serif;\nborder-radius: 2px;\npadding-left:16px;\npadding-top: 2px;\nbox-sizing: border-box;\n; color: ${n||"#486581"}; border-color: ${n||"#829ab1"}"  type="text" placeholder="${(r=(e=>"pt_BR"===e?V:"es_ES"===e?D:Z)(r)).survey.new.placeholder_comment}">${t}</textarea>\n    </div >\n  `),ie=(e,t)=>{const n=document.createElement("div");n.style.marginBottom="16px",n.style.marginTop="16px";let r=`    \n     <span style="\nfont-weight: 300;\nfont-size: 16px;\n">${e.question[t]}</span>\n     `;return e.is_obligatory&&(r+='<span style="\nfont-size: 30px;\nmargin-left: 3px;\nposition: absolute;\n">*</span>'),n.innerHTML=r,n},ae=(l,d,u,p,m,g)=>{u.type===e||u.type===c||u.type===t||u.type===o||u.type===s?((e,t,n,r,o,s)=>{const l=S(r.min_scale,r.max_scale),{fontColor:i,backgroundColor:a}=O(e,l,r.color_pattern,r.custom_color,r.button_design,o,s);n?(t.style.background=i,t.style.color=a,t.style.borderColor=a):(t.style.background=a,t.style.color=i,t.style.borderColor=i)})(p,l,d,u,m,g):u.type===i?((e,t,n,r)=>{const{borderColor:o,borderColorHover:s,backgroundColor:l,backgroundColorHover:i}=U(n,r);let a=e;"path"!==a.tagName&&(a=e.getElementsByTagName("path")[0]),a.setAttribute("fill",t?i:l),a.setAttribute("stroke",t?s:o)})(l,d,m,g):u.type===r?((e,t,n,r)=>{const{borderColor:o,background:s,useWidgetColor:l}=W(n,r);if(l){e.style.background=t?o:s,e.style.borderColor=t?s:o,e.style.color=t?s:o;for(let n=0;n<e.childNodes.length;n++)if("DIV"===e.childNodes[n].tagName&&"letter"===e.childNodes[n].className){e.childNodes[n].style.color=t?s:o;break}}else e.style.background=t?o:s,e.style.borderColor=t?s:o,e.style.color=t?s:o})(l,d,m,g):u.type===a?((e,t,n,r)=>{const{borderColor:o,backgroundColor:s,colorDetractorHover:l,colorPromoterHover:i}=G(n,r);let a=e,d=e;"path"!==a.tagName&&(a=e.getElementsByTagName("path")[0],d=e.getElementsByTagName("path")[1]);const u=e.firstElementChild.getAttribute("rel");t?(a.setAttribute("fill",Number(u)?i:l),a.setAttribute("stroke",Number(u)?i:l),d.setAttribute("stroke",Number(u)?i:l)):(a.setAttribute("fill",s),a.setAttribute("stroke",o),d.setAttribute("stroke",o))})(l,d,m,g):u.type===n&&((e,t,n,r)=>{const{background:o,backgroundHover:s,borderColor:l,borderColorHover:i}=F(n,r);let a=[...e.getElementsByTagName("path")];t?(e.style.opacity=1,a.forEach(((e,t)=>{t?e.setAttribute("fill",i):(e.setAttribute("fill",s),e.setAttribute("stroke",i))}))):(e.style.opacity=.7,a.forEach(((e,t)=>{t?e.setAttribute("fill",l):(e.setAttribute("fill",o),e.setAttribute("stroke",l))})))})(l,d,m,g)},de=(e,t)=>{let n=e,r="#486581",o="#486581";return t&&(n=t,r=t,o=t),{questionColor:n,commentColor:r,commentResponseColor:o}},ue=(e,t,n,r,o,s)=>{const{questionColor:l,commentColor:i,commentResponseColor:a}=de(r,o),d=document.createElement("div"),u=ie(e,t);u.style.color=l,d.append(u),d.append(z(e,n,t,o,s));const c=oe(e,t,n?.answer?.response,n?.answer?.comment,i,a);return d.append(c),d},ce=(e,t,n,r,o,s)=>{const{questionColor:l,commentColor:i,commentResponseColor:a}=de(r,o),d=document.createElement("div"),u=ie(e,t);u.style.color=l,d.append(u),d.append(z(e,n,t,o,s));const c=se(e,t,n?.answer?.response,n?.answer?.comment,i,a);return d.append(c),d},pe=(e,t,n,r,o,s,l)=>{const{questionColor:i,commentColor:a,commentResponseColor:d}=de(o,s),u=document.createElement("div"),c=ie(e,t);c.style.color=i,u.append(c),u.append(((e,t,n,r)=>{const o=document.createElement("div");o.style=j;const s=N(e.item.min_scale,e.item.max_scale,!1,0);let l=J(e.item_uuid,t,s,n,r);return o.innerHTML=l,o})(e,n,s,l));const p=oe(e,t,n,r,a,d);return u.append(p),u},me=(e,t,n,r,o)=>{const{questionColor:s}=de(r,o),l=document.createElement("div"),i=ie(e,t);return i.style.color=s,l.append(i),l.append(K(n,o,t)),l},ge=(e,t,n,r,o,s,l)=>{const{questionColor:i,commentColor:a,commentResponseColor:d}=de(o,s),u=document.createElement("div"),c=ie(e,t);c.style.color=i,u.append(c),u.append(((e,t,n,r)=>{const o=document.createElement("div"),s=N(e.item.min_scale,e.item.max_scale,!1,0),{borderColor:l,borderColorHover:i,backgroundColor:a,backgroundColorHover:d}=U(n,r),u=`\n  <div style="${j}">\n  ${Y(e.item_uuid,s,t,l,a,i,d)}\n  </div>  \n  `;return o.innerHTML=u,o})(e,n,s,l));const p=oe(e,t,n,r,a,d);return u.append(p),u},ye=(e,t,n,r,o,s,l)=>{const{questionColor:i,commentColor:a,commentResponseColor:d}=de(o,s),u=document.createElement("div"),c=ie(e,t);c.style.color=i,u.append(c),u.append(((e,t,n,r,o)=>{const s=document.createElement("div"),l=`\n  <div style="display:flex;flex-direction: column;">\n  ${P(e,t,n,r,o)}\n  </div>  \n  `;return s.innerHTML=l,s})(e,t,n,s,l));const p=oe(e,t,n,r,a,d);return u.append(p),u},fe=(e,t,n,r,o,s,l)=>{const{questionColor:i,commentColor:a,commentResponseColor:d}=de(o,s),u=document.createElement("div"),c=ie(e,t);c.style.color=i,u.append(c),u.append(X(e,n,s,l));const p=se(e,t,n,r,a,d);return u.append(p),u},ve=e=>{const t=document.createElement("div");return t.innerHTML=`<img src="${e.url}" style="width:100%" />`,t},be=(e,t)=>{const n=document.createElement("div");return n.innerHTML=e.question[t],n};Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');const t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");const r=arguments[1];let o=0;for(;o<n;){const n=t[o];if(e.call(r,n,o,t))return n;o++}},configurable:!0,writable:!0});let he=null,we=0,Ce="pt_BR";const _e=[];let xe=null,ke="",Ee="";const $e={en_US:"Thank you for your feedback!",pt_BR:"Agradecemos por seu feedback!",es_ES:"¡Gracias por tus comentarios!"};let Ae=null,Le=null,Be=0,Te=null,Me=document,Ne=null,Se=null;const He=(e,t,n)=>{if(Ie(),t&&t.survey){if(he=n,e)if(ke=e.key,e.customer&&(Te=e.customer),Se=e.interaction,e.appendTo){const t=document.getElementById(e.appendTo);t&&(Ne=t)}else e.componentRoot&&(Me=e.componentRoot,Ne=e.componentRoot);Ae=t,Je(),we=0;const r=Re();if(Ce=Oe(r),Ee=Ae.thanks_message[Ce]||$e[Ce],!ze())return;ot();const o=ke&&Ae.delay||0;setTimeout((()=>{Ye(),Be=(new Date).getTime(),e&&e.onCreate&&e.onCreate()}),1e3*o),Ve(),Ze()}},Ie=()=>{xe=null,we=0,ke=null,Te=null,Se=null,Me=document,Ne=null},qe=e=>{Te=e},Ze=()=>{if(!ke)return;const e={method:"POST"},t=he+"/widget/show/"+ke;try{fetch(t,e)}catch(e){console.log(e)}},Ve=()=>{if(!ke)return;const e=je();e?(e.show_at=(new Date).getTime(),De(e)):De({show_at:(new Date).getTime()})},De=e=>{ke&&localStorage.setItem(Ae.public_hash+Ae.survey_public_hash,JSON.stringify(e))},je=()=>JSON.parse(localStorage.getItem(Ae.public_hash+Ae.survey_public_hash)),ze=()=>{if(!ke)return!0;const e=je();if(!e)return!0;if(Ae.show_widget===m&&e)return!1;if(Ae.show_widget===g){let t=!1;if(e.answered_at){let n=new Date(e.answered_at);n.setDate(n.getDate()+Ae.days_after_response),(new Date).getTime()>=n.getTime()&&(t=!0)}if(e.show_at&&!e.answered_at){let n=new Date(e.show_at);n.setDate(n.getDate()+Ae.days_after_decline),(new Date).getTime()>=n.getTime()&&(t=!0)}return t}return!0},Re=()=>{let e="";switch(navigator.language||navigator.userLanguage){case"pt-BR":default:e="pt_BR";break;case"en-US":e="en_US";break;case"es":case"es-ES":e="es_ES"}return e},Oe=e=>Ae.survey.lang&&Ae.survey.lang.length>0&&Ae.survey.lang.includes(e)?e:Ae.survey.default_lang,Je=()=>{Ae.survey.jump_rules_enabled||(Ae.survey.items=Ae.survey.items.filter((e=>e.type!==d&&e.type!==u)))},Fe=e=>{let t="",n="";if(t=e.target.getAttribute("rel"),n=e.target.getAttribute("data-uuid"),null===t&&(t=e.target.parentElement.getAttribute("rel"),n=e.target.parentElement.getAttribute("data-uuid")),!xe||xe.uuid!==Ae.survey.items[we].item_uuid){const e=We();e?xe=e:st(Ae.survey.items[we])}if(null!=t&&(t=Number(t)),xe.type===r){Ae.survey.items[we].multiple_answers||(xe.answer.response=[]);const e=Ae.survey.items[we].options[t],n=xe.answer.response.findIndex((t=>JSON.stringify(t)===JSON.stringify(e)));-1===n?xe.answer.response.push(e):xe.answer.response.splice(n,1)}else xe.items&&xe.uuid!==n?xe.items&&xe.items.forEach((e=>{e.uuid===n&&(e.answer.response=t)})):xe.answer.response=t;it(we,xe)},Ke=e=>{if(Ae.survey.items[we].type===l&&st(Ae.survey.items[we]),xe.uuid!==Ae.survey.items[we].item_uuid){const e=We();xe=e}xe.answer.comment=e.target.value},Ue=()=>{if(!Xe())return;rt();const e=Ae?.survey?.items[we];if(we++,e?.jump_rules_enabled){if(!xe||0===xe?.answer?.response.length)return void we--;const t=I(xe?.type,xe?.answer?.response,e?.min_scale,e?.max_scale);let n=e?.jump_rules[t]?.action;const o=xe?.answer?.response[0]?.jump_rules?.action;if(e?.type===r&&o!==y&&(o===v&&(n=v),we=xe?.answer?.response[0]?.jump_rules.value),n===f)we=e?.jump_rules[t]?.value;else if(n===v)return void Ge(p)}const t=We();it(we,t),Pe()},Ye=()=>{vt(),it(we,null),Pe()},Pe=()=>{const e=Me.getElementById("track__buttonPrevious"),t=Me.getElementById("track__buttonNext"),n=Me.getElementById("track__buttonSubmit");e&&(e.style.display=0!==we?"initial":"none"),we===Ae.survey.items.length-1?(t.style.display="none",n.style.display="initial"):(t.style.display="initial",n.style.display="none")},Qe=()=>{we--,rt();const e=We();it(we,e),Pe()},We=()=>{const e=Ae.survey.items[we];if(e)return _e.find((t=>t.uuid===e.item_uuid))},Xe=()=>{let e=!0;const t=Ae.survey.items[we];let n=null;return n=null!==xe&&xe.uuid===t?.item_uuid?xe:We(),n||!t?.is_obligatory&&!t?.jump_rules_enabled?n&&(t?.is_obligatory||t?.jump_rules_enabled)&&(t?.type!==l&&0===n.answer.response.length||t?.type===l&&""===n.answer.comment)&&(e=!1):e=!1,e||(Me.getElementById("track__widget").querySelector("#messageError").innerHTML=pt().survey.messages.obligatory,Me.getElementById("track__widget").querySelector("#messageError").style.display="block",setTimeout((function(){Me.getElementById("track__widget").querySelector("#messageError").style.display="none"}),3e3)),e},Ge=async e=>{if(!Xe())return;rt();const t=nt(),n=ke;if(n){if(e===p&&!(()=>{for(let e=0;e<_e.length;e++)if(_e[e].answer.response!==[])return!0;return Me.getElementById("track__widget").querySelector("#messageError").innerHTML=pt().survey.messages.answer_one_question,Me.getElementById("track__widget").querySelector("#messageError").style.display="block",setTimeout((function(){Me.getElementById("track__widget").querySelector("#messageError").style.display="none"}),3e3),!1})())return;et(!1),tt(!1);const n=he+"/survey/",r=he+"/survey/partial/",o=(new Date).getTime()-Be,s={questions:t,response_time:o>0?o:0,status:e,interaction_uuid:Le,language:Ce,customer:Te,interaction:Se},l={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)};let i=r;e===p&&(i=n);try{const e=await fetch(i+Ae.survey_public_hash,l),t=await e.json();Le=await t.data,(()=>{const e=je();e&&(e.answered_at=(new Date).getTime(),De(e))})()}catch(e){console.log(e)}et(!0),tt(!1)}e===p&&(Me.getElementById("track__widget").querySelector("#survey").style.display="none",Me.getElementById("track__widget").querySelector("#messageThanks").style.display="block",setTimeout((function(){ot(),n||He(n,Ae,he)}),2e3))},et=e=>{const t=Me.getElementById("track__buttonSubmit");t&&(t.disabled=!e)},tt=e=>{const t=Me.getElementById("track__buttonPrevious");t&&(t.disabled=!e)},nt=()=>{const e=[];return[..._e].forEach((t=>{if(t.items){[...t.items].forEach((t=>{e.push(t)}))}e.push(t)})),e},rt=()=>{if(null!=xe){const e=_e.findIndex((e=>e.uuid===xe.uuid));-1===e?_e.push(xe):_e[e]=xe}},ot=()=>{Me.getElementById("track__widget")&&(Me.getElementById("track__widget").remove(),Me.getElementById("track__widget-minimized")&&Me.getElementById("track__widget-minimized").remove())},st=e=>{xe={type:e.type,uuid:e.item_uuid,answer:{comment:"",response:[]}},e.items&&(xe.items=[],lt(e.items))},lt=e=>{e.forEach((e=>{e.type!==d&&xe.items.push({type:e.type,uuid:e.item_uuid,answer:{comment:"",response:[]}}),e.items&&lt(e.items)}))},it=(p,m)=>{let g=Ae.survey.primary_color||"#486581",y=null,f=null;Ae.survey_colors||(f=Ae.secondary_color,y=Ae.primary_color);let v=Me.getElementById("track__widget").querySelector("#question");const b=((p,m,g,y,f,v)=>{let b=null,h=null;return g&&!g.items&&(b=g.answer.response,h=g.answer.comment),p?.type===e||p.type===t?ue(p,m,g,y,f,v):p.type===n?pe(p,m,b,h,y,f,v):p.type===r?ye(p,m,b,h,y,f,v):p.type===o||p.type===s?ce(p,m,g,y,f,v):p.type===i?ge(p,m,b,h,y,f,v):p.type===l?me(p,m,h,y,f):p.type===a?fe(p,m,b,h,y,f,v):p.type===c?ue(p,m,g,y,f,v):p.type===u?ve(p):p.type===d?be(p,m):void 0})(Ae?.survey?.items[p],Ce,m,g,y,f);v.innerHTML=b.innerHTML;Me.getElementById("track__widget").querySelectorAll(".options")?.forEach(((e,t)=>{e.addEventListener("click",Fe),at(e,t,y,f)}));Me.getElementById("track__widget").querySelectorAll(".comment").forEach((e=>{e.addEventListener("keyup",Ke)}))},at=(e,t,n,r)=>{e.className.includes("selected")||(e.addEventListener("mouseenter",(function(e){dt(e,!0,t,n,r)})),e.addEventListener("mouseleave",(function(e){dt(e,!1,t,n,r)})))},dt=(e,t,n,r,o)=>{if(!e.target.className.includes("options"))return;let s=Ae.survey.items[we];if(Ae?.survey?.items[we]?.items){const t=e.target.getAttribute("data-uuid")||e.target.firstElementChild.getAttribute("data-uuid");s=ut(s,t)||s}ae(e.target,t,s,n,r,o)},ut=(e,t)=>{let n=null;return e.items.forEach((e=>{e.item_uuid===t?n=e:e.items&&(n=ut(e,t))})),n},ct=()=>{let e=Ae.survey.primary_color||"#354052",t="#fff";return Ae.survey_colors||(t=Ae.secondary_color,e=Ae.primary_color),{primaryColor:e,secondaryColor:t}},pt=()=>"pt_BR"===Ce?V:"es_ES"===Ce?D:Z,mt="\npadding: 20px;\n",gt=e=>{const t=Me.getElementById("track__widget-minimized");e?(Me.getElementById("track__widget").style.display="block",t&&(t.style.display="none")):(Me.getElementById("track__widget").style.display="none",t&&(t.style.display="block"))},yt=e=>Ne?"":`\n  <div id="track__widget-close" style="text-align: right;"><span style="cursor:pointer;padding: 10px;">\n  <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1 0.999999L6 6L11 1" stroke="${e}" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n    </span></div>\n  `,ft=(e,t)=>{const{primaryColor:n,secondaryColor:r}=ct();t?(e.target.style.borderColor=r,e.target.style.backgroundColor=n,e.target.style.color=r):(e.target.style.borderColor=n,e.target.style.backgroundColor=r,e.target.style.color=n)},vt=()=>{var e=document.createElement("div");e.id="track__widget";var t=document.createElement("div");if(t.id="track__widget-minimized",e.innerHTML=(()=>{const{primaryColor:e,secondaryColor:t}=ct();return'\n<div style="'+(Ne?"\nall:unset;\nfont-family:sans-serif;\nz-index: 100000;\n\n":"\nall:unset;\nposition:fixed;\nright:35px;\nbottom: 0;\nwidth:360px;\nfont-family:sans-serif;\nz-index: 100000;\n\n")+'" class="widget">\n    <div style="'+(Ne?"\nbackground-color:white;\nborder: 1px solid transparent;\n\n":"\nbackground-color:white;\nborder-top-left-radius:12px;\nborder-top-right-radius:12px;\nborder: 1px solid transparent;\nbox-shadow: 0px 4px 8px rgba(0, 0, 0, 0.25);\n\n")+`background:${t};padding:16px;">\n    ${yt(e)}\n      <div id="messageThanks" style="color:${e};display:none;${mt}" >\n        ${Ee}\n      </div>\n      <div id="messageError" style="color:#ea575f;display:none;${mt}" >\n        \n      </div>\n      <div id="survey">\n        <div id="question" style="\nmax-height: 500px;\noverflow: auto;\n\n">\n\n        </div>\n          <div style="display: flex; justify-content:space-between;margin-top:16px;">\n              <a href="https://track.co" target="_blank"><img src="data:image/png;base64,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" width="30"></a>\n              <div>\n              ${Ae.survey.jump_rules_enabled?"":`\n                <input id="track__buttonPrevious" type="button" value="${pt().survey.buttons.previous}" style="display:none;outline:none;border:1px solid ${e};margin-right: 10px;height:30px;width:80px;color:${e};line-height:30px;background-color:transparent;cursor:pointer;font-size: 16px;box-sizing:unset;position:relative;display:block;">\n              `}\n                <input id="track__buttonNext" type="button" value="${pt().survey.buttons.next}" style="outline:none;border:1px solid ${e};height:30px;width:80px;color:${e};line-height:30px;background-color:transparent;cursor:pointer;font-size: 16px;box-sizing:unset;position:relative;display:block;">\n                <input id="track__buttonSubmit" type="button" value="${pt().survey.buttons.send}" style="display:none;outline:none;border:1px solid ${e};height:30px;width:80px;color:${e};line-height:30px;background-color:transparent;cursor:pointer;font-size: 16px;box-sizing:unset;position:relative;display:block;">\n              \n             </div>\n          </div>\n      </div>\n    </div>\n  </div>\n</div>\n`})(),t.innerHTML=(()=>{const{primaryColor:e,secondaryColor:t}=ct();return`\n    <div style="\nall:unset;\nposition:fixed;\nright:35px;\nbottom: 0;\nwidth:56px;\nheight: 40px;\nfont-family:sans-serif;\nz-index: 2000;\nborder-top-left-radius:12px;\nborder-top-right-radius:12px;\nborder: 1px solid transparent;\nbox-shadow: 0px 4px 8px rgba(0, 0, 0, 0.25);\ntext-align: center;\ncursor:pointer;\n background:${t}" class="widget-minimized">\n      <div style="color: ${e}; padding-top: 6px;">\n      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M17 15L12 10L7 15" stroke="${e}" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>\n      </div>\n    </div>\n  `})(),Ne)Ne.append(e);else{var n=document.getElementsByTagName("html")[0];n&&(n.appendChild(e),n.appendChild(t))}const r=Me.getElementById("track__buttonNext");r.addEventListener("click",Ue),r.addEventListener("mouseenter",(function(e){ft(e,!0)})),r.addEventListener("mouseleave",(function(e){ft(e,!1)}));const o=Me.getElementById("track__buttonPrevious");o&&(o.addEventListener("click",Qe),o.addEventListener("mouseenter",(function(e){ft(e,!0)})),o.addEventListener("mouseleave",(function(e){ft(e,!1)})));const s=Me.getElementById("track__buttonSubmit");s.addEventListener("click",(()=>Ge(p))),s.addEventListener("mouseenter",(function(e){ft(e,!0)})),s.addEventListener("mouseleave",(function(e){ft(e,!1)}));const l=Me.getElementById("track__widget-close");l&&l.addEventListener("click",(()=>gt(!1)));const i=Me.getElementById("track__widget-minimized");return i&&i.addEventListener("click",(()=>{gt(!0),(()=>{if(!ke)return;const e={method:"POST"},t=he+"/widget/open/"+ke;try{fetch(t,e)}catch(e){console.log(e)}})()})),gt(!Ae.minimized),e},bt={"http://localhost:8080":"http://localhost:4000","https://dev.track.co":"https://dev-api.track.co","https://track-hmg.com":"https://api.track-hmg.com","https://app.track.co":"https://api.track.co"};let ht=null;class wt{createWidget=async e=>{try{const t=xt();if(e.customer)try{if(await Ct(e.key,t,e.customer))return void console.log("[Widget] Customer in recurrece rule")}catch(e){return void console.log(e)}const n=await _t(e.key,t);if(n){const r=await n.json(),o=await r.data;ht&&(e.customer=ht),He(e,o,t)}}catch(e){console.log(e)}};static showWidget=e=>{(e=>{const t=e?"block":"none";if(Ae.minimized){const e=Me.getElementById("track__widget-minimized");e&&(e.style.display=t)}else Me.getElementById("track__widget").style.display=t})(e)};static setCustomer=e=>{ht=e,qe(e)}}const Ct=async(e,t,n)=>{const r={customer:n};try{const n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",pathname:window.location.pathname},body:JSON.stringify(r)},o=await fetch(t+`/widget/${e}/check`,n),s=await o.json();return(await s.data).quarantine}catch(e){throw e}},_t=async(e,t)=>{try{const n={headers:{pathname:window.location.pathname}};return await fetch(t+"/widget/"+e,n)}catch(e){console.log(e)}},xt=()=>{const e=document.getElementById("trackwidget-js");if(e){const t=new URL(e.src);return bt[t.origin]}return"http://localhost:4000"};class kt extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const e={key:this.getAttribute("data-key"),componentRoot:this.shadowRoot};if(this.hasAttribute("data-customer")){const t=this.getAttribute("data-customer");let n=null;try{n=JSON.parse(t)}catch(e){console.log("Error: can't parse customer data")}n&&(e.customer=n)}(new wt).createWidget(e)}}return customElements.get("track-widget-component")||customElements.define("track-widget-component",kt),wt}();
